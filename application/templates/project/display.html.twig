{% extends "base.html.twig" %}

{% import "user/macros.html.twig" as macros %}

{% block body %}
  {% set userStatus = app.user|status(project) %}

  {% include 'project/navigation.html.twig' with {'current': ''} %}
  <div id="myCarousel" class="carousel slide" data-ride="carousel">
    <div class="carousel-inner">
      <div class="carousel-item active {{ project.image ? "carousel-custom" }}" style="{{ project.image ? 'background-image: url(' ~ asset('project_files/'~project.id~'/'~project.image) ~ ')' }}">

        {% if project | isAuthorizedOnProject('register') %}
        <span id="register-container">
          <a href="{{ path('status_request', {id: project.id})}}" class="btn btn-sm btn-secondary" data-toggle="tooltip" data-placement="top" title="{{"subscribe_long"|trans}}">
            {{'project_register' | trans}}
          </a>
        </span>
        {% endif %}

      </div>
    </div>
  </div>
  <div id="catchphrase-container">
    <span id="catchphrase">{{ project.catchPhrase }}</span>
  </div>
  <div id="main-container">
    <div class="row">
      <div class="col">
        <p>
          {% if userStatus %}
          <span class="badge badge-info">
            {{ userStatus.status.name | trans }} {{ not userStatus.enabled ? 'not_enabled_yet' | trans}}
          </span>
          {% endif %}
          {% if is_granted('ROLE_ADMIN') %}
          <span class="badge badge-success">
            {{"app_admin"|trans}}
          </span>
          {% endif %}

          {% if not project.public %}
            <span class="badge badge-danger">
              {{'project_is_not_public' | trans}}
            </span>
          {% endif %}
        </p>
        {{ project.description | raw }}
      </div>
    </div>
  </div>

{% endblock %}
