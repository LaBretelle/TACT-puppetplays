{% extends "base.html.twig" %}

{% block body %}
<h3>
  <a href="{{ path("project_display", {'id': project.id} )}}">{{ project.name }}</a>
  - {{ "project_handle_user_statuses"|trans }}
</h3>
<table class="table  table-striped">
  <thead>
    <tr>
      <th scope="col">{{ "username"| trans }}</th>
      <th scope="col">{{ "status"| trans }}</th>
      <th scope="col">{{ "project_enabled"| trans }}</th>
      <th scope="col">{{ "action"| trans }}</th>
    </tr>
  </thead>
  <tbody>
    {% for userStatus in project.userStatuses %}
    <tr>
      <td>{{ userStatus.user.username }}</td>
      <td>{{ userStatus.status.name }}</td>
      <td>{{ userStatus.enabled ? "oui"|trans : "non"|trans }}</td>
      <td>
        <a href="{{ path("status_remove", {id: userStatus.id})}}" type="button" class="btn btn-secondary">
          <i class="fa fa-times" aria-hidden="true"></i>
          {{ "status_remove" | trans}}
        </a>
        <a href="{{ path("status_toggle", {id: userStatus.id})}}" type="button" class="btn btn-secondary">
          {% if userStatus.enabled %}
          <i class="fa fa-toggle-on" aria-hidden="true"></i> {{ "status_toggle_off" | trans}}
          {% else %}
          <i class="fa fa-toggle-off" aria-hidden="true"></i> {{ "status_toggle_on" | trans}}
          {% endif %}
        </a>
      </td>
    </tr>
    {% endfor %}
  </tbody>
</table>

{% endblock %}
